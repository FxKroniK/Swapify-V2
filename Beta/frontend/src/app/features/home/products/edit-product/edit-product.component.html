<div class="container mx-auto p-4 max-w-3xl">
  <div class="bg-white rounded-lg shadow-md p-6">
    <div class="flex items-center justify-between mb-6">
      <h1 class="text-2xl font-bold text-gray-800">Editar producto</h1>
      <button 
        class="text-green-600 hover:text-green-700 font-medium flex items-center"
        (click)="router.navigate(['/home'])"
      >
        Volver
      </button>
    </div>

    <form (ngSubmit)="editProduct()">
      <!-- Información básica -->
      <div class="mb-6">
        <h2 class="text-lg font-semibold text-gray-700 mb-3 border-b pb-2">Información básica</h2>

        <!-- Imágenes del producto -->
        <div class="mb-4">
          <label for="productImage" class="block text-sm font-medium text-gray-700 mb-1">Imágenes del producto (máx. 5)</label>
          <div class="flex items-center space-x-4">
            <!-- Imágenes actuales -->
            <div class="flex flex-wrap gap-2">
              <img 
                *ngFor="let image of product.imageUrl" 
                [src]="image || 'assets/default-product.png'" 
                alt="Imagen del producto" 
                class="w-32 h-32 rounded-md border border-gray-300"
              >
            </div>
            <!-- Input para seleccionar nuevas imágenes -->
            <input 
              type="file" 
              id="productImage" 
              (change)="onFilesSelected($event)" 
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"
              multiple 
              accept="image/*"
            >
            <div *ngIf="imageFiles.length > 0" class="mt-2">
              <p class="text-sm text-gray-600">Nuevas imágenes seleccionadas: {{ imageFiles.length }}</p>
              <ul class="list-disc pl-5">
                <li *ngFor="let file of imageFiles" class="text-sm">{{ file.name }}</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Título -->
        <div class="mb-4">
          <label for="title" class="block text-sm font-medium text-gray-700 mb-1">Título del producto *</label>
          <input 
            type="text" 
            id="title" 
            [(ngModel)]="product.title" 
            name="title" 
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"
            placeholder="Ej: Camiseta de algodón"
            required
          >
        </div>

        <!-- Categoría -->
        <div class="mb-4">
          <label for="category" class="block text-sm font-medium text-gray-700 mb-1">Categoría *</label>
          <select 
            id="category" 
            [(ngModel)]="product.category" 
            name="category" 
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"
            required
          >
            <option value="" disabled>Selecciona una categoría</option>
            <option value="Electrónica">Electrónica</option>
            <option value="Ropa">Ropa</option>
            <option value="Hogar">Hogar</option>
            <option value="Deportes">Deportes</option>
          </select>
        </div>

        <!-- Descripción -->
        <div class="mb-4">
          <label for="description" class="block text-sm font-medium text-gray-700 mb-1">Descripción *</label>
          <textarea 
            id="description" 
            [(ngModel)]="product.description" 
            name="description" 
            rows="4"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"
            placeholder="Describe tu producto, incluye detalles sobre el estado, características, etc."
            required
          ></textarea>
        </div>
      </div>

      <!-- Precio -->
      <div class="mb-6">
        <h2 class="text-lg font-semibold text-gray-700 mb-3 border-b pb-2">Precio</h2>

        <div class="mb-4">
          <label for="price" class="block text-sm font-medium text-gray-700 mb-1">Precio (SC) *</label>
          <input 
            type="number" 
            id="price" 
            [(ngModel)]="product.price" 
            name="price" 
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"
            placeholder="0.00"
            step="0.01"
            min="0"
            required
          >
        </div>
      </div>

      <!-- Botones de acción -->
      <div class="flex justify-end space-x-3 mt-8">
        <button 
          type="button" 
          class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50"
          (click)="router.navigate(['/home'])"
        >
          Cancelar
        </button>
        <button 
          type="submit" 
          class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"
        >
          Actualizar producto
        </button>
      </div>
    </form>
  </div>
</div>